package com.example.logAnalizer.domain.logic;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;


class LogCreatorTest {

    @Test
    public void testGetClassNameFromLog() {
        String className = LogCreator.getClassNameFromLog("11-07-2023 14:45:06,160 ERROR []:152 com.scc.gcmreport.tools.MergedReport - Invalid float number: '8,5'\\njava.lang.NumberFormatException: For input string: \\\"8,5\\\"\\n\\tat sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2056) ~[?:1.8.0]\\n\\tat sun.misc.FloatingDecimal.parseFloat(FloatingDecimal.java:135) ~[?:1.8.0]\\n\\tat java.lang.Float.parseFloat(Float.java:462) ~[?:2.9 (09-29-2022)]\\n\\tat java.lang.Float.valueOf(Float.java:427) ~[?:2.9 (09-29-2022)]\\n\\tat com.scc.gcmreport.tools.MergedReport.readFloatAttribute(MergedReport.java:1391) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readElements(MergedReport.java:1374) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readDocument(MergedReport.java:1345) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.<init>(MergedReport.java:129) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readCollatedDocuments(MergedReport.java:635) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readCollatedDocuments(MergedReport.java:457) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readCollatedDocuments(MergedReport.java:446) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readCollatedDocuments(MergedReport.java:196) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.tools.MergedReport.readCollatedDocuments(MergedReport.java:187) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.UniversalReportServiceDB.savePdfReportDataImpl(UniversalReportServiceDB.java:727) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.UniversalReportServiceDB.savePdfReportData(UniversalReportServiceDB.java:552) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.NonTechnicalUpdateHelper.updateNoTechnicalReportData(NonTechnicalUpdateHelper.java:191) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmreport.NonTechnicalUpdateHelper.updateNoTechnicalReportData(NonTechnicalUpdateHelper.java:170) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmintegration.inbound.services.changepatient.reportUpdate.NonTechnicalUpdateService.performReportUpdate(NonTechnicalUpdateService.java:64) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmintegration.inbound.services.changepatient.TechnicalUpdatePerformer.perform(TechnicalUpdatePerformer.java:106) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmintegration.inbound.services.changepatient.TechnicalUpdatePerformer.run(TechnicalUpdatePerformer.java:71) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0]\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90) ~[?:1.8.0]\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55) ~[?:1.8.0]\\n\\tat java.lang.reflect.Method.invoke(Method.java:508) ~[?:1.8.0]\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.22.jar:5.3.22]\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.22.jar:5.3.22]\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\\n\\tat com.sun.proxy.$Proxy230.run(Unknown Source) ~[?:?]\\n\\tat com.scc.gcmintegration.inbound.services.changepatient.TechnicalUpdateTask.launch(TechnicalUpdateTask.java:56) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmtools.taskmanager.Performer.perform(Performer.java:121) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat com.scc.gcmtools.taskmanager.TaskRequestRunner.run(TaskRequestRunner.java:48) ~[gcm-core-4.1.17-235-SNAPSHOT.jar:4.1.17.235.34]\\n\\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:522) ~[?:1.8.0]\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:277) ~[?:1.8.0]\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160) ~[?:1.8.0]\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:1.8.0]\\n\\tat java.lang.Thread.run(Thread.java:825) [?:2.9 (09-29-2022)]");
        assertEquals("com.scc.gcmreport.tools.MergedReport", className);
    }

}